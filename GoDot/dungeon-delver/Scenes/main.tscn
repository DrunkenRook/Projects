[gd_scene load_steps=10 format=4 uid="uid://cpdbnm4km40h7"]

[ext_resource type="PackedScene" uid="uid://o3xe25iv73ol" path="res://Scenes/player.tscn" id="1_8gbba"]
[ext_resource type="Texture2D" uid="uid://cn63mn3oyx4ud" path="res://assets/Tilesets/tileset_gray.png" id="1_jjgbg"]
[ext_resource type="Script" uid="uid://cxu75btlg86hp" path="res://Scripts/main_room.gd" id="2_jjvhh"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_bo1nx"]
texture = ExtResource("1_jjgbg")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0

[sub_resource type="TileSet" id="TileSet_8gbba"]
sources/2 = SubResource("TileSetAtlasSource_bo1nx")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8gbba"]
texture = ExtResource("1_jjgbg")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0

[sub_resource type="TileSet" id="TileSet_jjvhh"]
sources/0 = SubResource("TileSetAtlasSource_8gbba")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kry3j"]
size = Vector2(32, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_21xkr"]
size = Vector2(48, 16)

[node name="Main" type="Node2D"]
position = Vector2(176, 248)

[node name="Player" parent="." instance=ExtResource("1_8gbba")]
z_index = 1

[node name="RoomTemplate" type="StaticBody2D" parent="."]
script = ExtResource("2_jjvhh")

[node name="Map" type="TileMapLayer" parent="RoomTemplate"]
tile_map_data = PackedByteArray("AAD+////AgABAAEAAAD/////AgABAAEAAAAAAP//AgABAAEAAAABAP//AgAFAAIAAAACAP//AgABAAEAAAACAAAAAgABAAEAAAABAAAAAgABAAEAAAABAAEAAgABAAEAAAACAAEAAgAFAAIAABACAAIAAgABAAEAAAABAAIAAgABAAEAAAAAAAIAAgACAAMAAAD//wIAAgABAAEAAAD+/wIAAgABAAEAAAD9/wIAAgAEAAIAAHD9/wEAAgABAAIAAAD9/wAAAgABAAEAAAD9////AgABAAEAAAD+/wAAAgABAAEAAAD+/wEAAgAEAAIAAHD//wEAAgABAAEAAAD//wAAAgABAAEAAAAAAAEAAgABAAEAAAAAAAAAAgABAAEAAAD9//7/AgABAAEAAAD+//7/AgABAAEAAAD///7/AgABAAEAAAAAAP7/AgABAAEAAAABAP7/AgABAAEAAAACAP7/AgABAAEAAAADAP7/AgABAAEAAAADAP//AgABAAEAAAADAAAAAgABAAEAAAADAAEAAgABAAEAAAADAAIAAgACAAIAAFADAAMAAgABAAEAAAACAAMAAgABAAEAAAABAAMAAgABAAEAAAAAAAMAAgABAAEAAAD//wMAAgABAAEAAAD+/wMAAgABAAEAAAD9/wMAAgABAAEAAAD8/wMAAgABAAEAAAD8/wIAAgABAAEAAAD8/wEAAgABAAEAAAD8/wAAAgABAAEAAAD8////AgABAAEAAAD8//7/AgABAAEAAAD7//7/AgACAAEAAAD7////AgABAAEAAAD7/wAAAgACAAIAAAD7/wEAAgABAAEAAAD7/wIAAgABAAEAAAD7/wMAAgABAAEAAAD6////AgABAAEAAAD5////AgABAAEAAAD4////AgABAAEAAAD4/wAAAgAEAAIAAAD4/wEAAgABAAEAAAD4/wIAAgABAAEAAAD5/wIAAgABAAEAAAD6/wIAAgABAAEAAAD6/wEAAgABAAEAAAD6/wAAAgABAAEAAAD5/wAAAgABAAEAAAD5/wEAAgAEAAIAAFACAP3/AgABAAIAAAACAPz/AgABAAEAAAACAPv/AgABAAEAAAAAAPr/AgABAAEAAAABAPr/AgABAAEAAAACAPr/AgABAAEAAAADAPr/AgAFAAIAAAAEAPr/AgAAAAEAABAEAPn/AgADAAMAAAAEAPj/AgABAAEAAAAEAPf/AgADAAEAAAAEAPb/AgAAAAEAABADAPb/AgABAAEAAAACAPb/AgABAAEAAAABAPb/AgABAAEAAAAAAPb/AgABAAIAAAAAAPf/AgABAAEAAAAAAPj/AgABAAEAAAAAAPn/AgABAAEAAAABAPn/AgABAAEAAAACAPn/AgABAAEAAAADAPn/AgABAAEAAAADAPj/AgABAAEAAAADAPf/AgABAAEAAAACAPf/AgABAAEAAAABAPf/AgAEAAIAAFABAPj/AgABAAEAAAACAPj/AgABAAEAAAAFAPj/AgACAAEAABAGAPj/AgABAAEAAAAHAPj/AgABAAEAAAAHAPL/AgAAAAEAAAAHAPP/AgAAAAEAAAAHAPT/AgAAAAEAAAAHAPX/AgAAAAEAAAAHAPb/AgAAAAEAAAAHAPf/AgAFAAEAAAAHAPn/AgAFAAMAAAAHAPr/AgAAAAEAAAAIAPr/AgABAAEAAAAJAPr/AgABAAEAAAAKAPr/AgAEAAIAAFALAPr/AgABAAEAAAALAPn/AgABAAEAAAALAPj/AgACAAIAADALAPf/AgABAAEAAAALAPb/AgABAAEAAAALAPX/AgAJAAEAAAALAPT/AgAJAAEAAAALAPP/AgAJAAEAAAALAPL/AgABAAEAAAAKAPL/AgABAAEAAAAJAPL/AgABAAEAAAAIAPL/AgABAAEAAAAIAPP/AgAFAAIAAAAIAPT/AgABAAEAAAAJAPT/AgABAAEAAAAJAPP/AgABAAEAAAAKAPP/AgABAAEAAAAKAPT/AgABAAEAAAAKAPX/AgABAAEAAAAJAPX/AgABAAEAAAAIAPX/AgABAAEAAAAIAPb/AgABAAEAAAAJAPb/AgACAAIAAAAKAPb/AgABAAEAAAAKAPf/AgABAAEAAAAJAPj/AgAJAAEAAAAIAPj/AgABAAEAAAAIAPf/AgABAAEAAAAJAPf/AgAJAAEAAAAIAPn/AgABAAEAAAAJAPn/AgAJAAEAAAAKAPn/AgABAAEAAAAKAPj/AgABAAEAAAAMAPr/AgABAAEAAAAMAPn/AgABAAEAAAAMAPj/AgAFAAIAAAAMAPf/AgABAAEAAAAMAPb/AgABAAEAAAAMAPX/AgABAAEAAAAMAPT/AgABAAEAAAAMAPP/AgABAAEAAAAMAPL/AgABAAEAAAD6//3/AgAAAAAAAAD7//3/AgACAAAAAAD8//3/AgABAAAAAAD9//3/AgABAAAAAAD+//3/AgAFAAAAAAD///3/AgAFAAAAAAAAAP3/AgABAAAAAAABAP3/AgAFAAEAAAD6//7/AgAFAAEAAAD5//7/AgAEAAEAAAD6/wQAAgAAAAQAAAD7/wQAAgABAAQAAAD8/wQAAgABAAQAAAD9/wQAAgABAAQAAAD+/wQAAgABAAQAAAD//wQAAgABAAQAAAAAAAQAAgABAAQAAAABAAQAAgABAAQAAAACAAQAAgABAAQAAAADAAQAAgABAAQAAAAEAAQAAgADAAQAAAAEAAMAAgAAAAEAABAEAAIAAgAAAAEAABAEAAEAAgAAAAEAABAEAAAAAgAAAAEAABAEAP//AgAAAAEAABAEAP7/AgAAAAEAABAEAP3/AgADAAAAAAADAP3/AgAFAAEAABD4//7/AgAFAAAAAAD3//7/AgAAAAAAAAD3////AgAAAAEAAAD3/wAAAgAAAAEAAAD3/wEAAgAAAAEAAAD3/wIAAgAAAAEAAAD3/wMAAgAAAAQAAAD4/wMAAgABAAQAAAD5/wMAAgABAAQAAAD6/wMAAgAFAAMAAAABAPz/AgAAAAEAAAADAPz/AgAAAAEAABADAPv/AgADAAMAAAAEAPv/AgADAAQAAAAFAPn/AgAEAAMAAAAGAPn/AgABAAQAAAAHAPv/AgAAAAQAAAAIAPv/AgABAAQAAAAJAPv/AgAFAAMAAAAKAPv/AgABAAEAAAALAPv/AgADAAMAAAAMAPv/AgABAAQAAAANAPv/AgADAAQAAAANAPr/AgAAAAEAABANAPn/AgAAAAEAABANAPj/AgAAAAEAABANAPf/AgAAAAEAABANAPb/AgAAAAEAABANAPX/AgAAAAEAABANAPT/AgAAAAEAABANAPP/AgAAAAEAABANAPL/AgAAAAEAABANAPH/AgADAAAAAAAMAPH/AgABAAAAAAALAPH/AgABAAAAAAAKAPH/AgABAAAAAAAJAPH/AgABAAAAAAAIAPH/AgABAAAAAAAHAPH/AgAAAAAAAAAGAPf/AgAEAAEAAAAFAPf/AgACAAAAABAEAPX/AgADAAAAAAADAPX/AgABAAAAAAACAPX/AgABAAAAAAABAPX/AgABAAAAAAAAAPX/AgABAAAAAAD///X/AgAAAAAAAAD///b/AgAAAAEAAAD///f/AgAAAAEAAAD///j/AgAAAAEAAAD///n/AgAAAAEAAAD///r/AgAAAAEAAAD///v/AgAAAAQAAAAAAPv/AgABAAQAAAABAPv/AgAFAAMAAAAJAPz/AgAAAAEAAAAJAP3/AgAAAAEAAAAJAP7/AgAFAAEAAAAIAP7/AgAEAAEAAAAHAP7/AgAEAAEAAAAKAPz/AgABAAEAAAAKAP3/AgABAAEAAAAKAP7/AgABAAEAAAALAPz/AgAAAAEAABALAP3/AgAAAAEAABALAP7/AgADAAEAAAAMAP7/AgAEAAEAAAANAP7/AgAEAAEAAAAOAP7/AgAEAAEAAAAGAP7/AgAAAAAAAAAGAP//AgAAAAEAAAAGAAAAAgAAAAEAAAAGAAEAAgAAAAEAAAAGAAIAAgAAAAEAAAAGAAMAAgAAAAEAAAAHAAMAAgABAAEAAAAIAAMAAgABAAEAAAAJAAMAAgABAAEAAAAKAAMAAgABAAEAAAALAAMAAgABAAEAAAAMAAMAAgABAAEAAAANAAMAAgABAAEAAAAOAAMAAgAEAAIAAEAPAAMAAgABAAEAAAAQAAMAAgACAAEAACARAAMAAgAAAAEAABARAAIAAgAAAAEAABARAP7/AgADAAAAAAAPAP7/AgABAAAAAAAQAP7/AgABAAAAAAARAP//AgAAAAEAABARAAAAAgAAAAEAABARAAEAAgAAAAEAABAHAP//AgABAAEAAAAIAP//AgABAAEAAAAJAP//AgABAAEAAAAKAP//AgABAAEAAAALAP//AgABAAEAAAAMAP//AgABAAEAAAANAP//AgABAAEAAAAOAP//AgABAAEAAAAPAP//AgAFAAIAACAQAP//AgABAAEAAAAQAAAAAgABAAEAAAAPAAAAAgABAAEAAAAOAAAAAgABAAEAAAANAAAAAgABAAEAAAAMAAAAAgABAAEAAAALAAAAAgABAAEAAAAKAAAAAgABAAEAAAAJAAAAAgABAAIAAAAIAAAAAgAEAAIAAAAIAAEAAgABAAEAAAAHAAEAAgABAAEAAAAHAAIAAgACAAIAAAAIAAIAAgABAAEAAAAHAAAAAgABAAEAAAAJAAEAAgABAAEAAAAKAAEAAgABAAIAAAAJAAIAAgABAAEAAAAKAAIAAgABAAEAAAALAAIAAgABAAEAAAAMAAIAAgABAAEAAAANAAIAAgAEAAIAAAAOAAIAAgABAAEAAAAPAAIAAgABAAEAAAAQAAIAAgABAAEAAAAQAAEAAgABAAMAAAAPAAEAAgADAAIAABAOAAEAAgABAAIAAAANAAEAAgABAAEAAAAMAAEAAgABAAEAAAALAAEAAgABAAEAAAAHAAQAAgABAAQAAAAIAAQAAgABAAQAAAAJAAQAAgABAAQAAAAKAAQAAgABAAQAAAALAAQAAgABAAQAAAAMAAQAAgABAAQAAAANAAQAAgABAAQAAAAOAAQAAgABAAQAAAAPAAQAAgABAAQAAAAQAAQAAgABAAQAAAARAAQAAgADAAQAAAAGAAQAAgAAAAQAAAA=")
tile_set = SubResource("TileSet_8gbba")

[node name="Wallsmap" type="TileMapLayer" parent="RoomTemplate"]
visible = false
tile_map_data = PackedByteArray("AAD7/wQAAAABAAQAAAD8/wQAAAABAAQAAAD9/wQAAAABAAQAAAD+/wQAAAABAAQAAAD//wQAAAAFAAQAAAAAAAQAAAAFAAQAAAABAAQAAAAGAAQAAAACAAQAAAABAAQAAAADAAQAAAABAAQAAAAEAAQAAAADAAQAAAAEAAMAAAAJAAEAAAAEAAIAAAAJAAEAAAAEAAEAAAAJAAEAAAAEAAAAAAAJAAEAAAAEAP//AAAJAAIAAAAEAP7/AAAJAAEAAAAEAP3/AAADAAAAAAD8//3/AAABAAAAAAD9//3/AAABAAAAAAAAAP3/AAABAAAAAAABAP3/AAAFAAEAAAABAPz/AAAAAAEAAAABAPv/AAAFAAMAAAAAAPv/AAABAAQAAAD///v/AAAAAAQAAAD///r/AAAAAAMAAAD///n/AAAAAAMAAAD///j/AAAAAAIAAAD///f/AAAAAAEAAAD///b/AAAAAAEAAAD///X/AAAAAAAAAAAAAPX/AAABAAAAAAABAPX/AAABAAAAAAACAPX/AAABAAAAAAADAPX/AAACAAAAABAEAPX/AAADAAAAAAAEAPf/AAADAAEAAAAEAPb/AAAJAAEAAAAFAPf/AAACAAAAAAAGAPf/AAABAAAAAAAHAPf/AAAFAAEAAAAHAPP/AAAAAAIAAAAHAPb/AAAAAAEAAAAHAPX/AAAAAAEAAAAHAPT/AAAAAAEAAAAHAPL/AAAAAAEAAAAHAPH/AAAAAAAAAAAIAPH/AAABAAAAAAAJAPH/AAABAAAAAAAKAPH/AAABAAAAAAALAPH/AAABAAAAAAAMAPH/AAAEAAAAAAANAPH/AAADAAAAAAANAPT/AAAJAAIAAAANAPL/AAAJAAEAAAANAPP/AAAJAAEAAAANAPX/AAAJAAEAAAANAPb/AAAJAAEAAAANAPf/AAAJAAEAAAANAPj/AAAJAAEAAAANAPn/AAAJAAEAAAANAPr/AAAJAAEAAAANAPv/AAADAAQAAAAMAPv/AAACAAQAAAALAPv/AAADAAMAAAALAPz/AAAJAAEAAAALAP3/AAAJAAIAAAALAP7/AAAFAAEAABAMAP7/AAABAAAAAAANAP7/AAABAAAAAAAOAP7/AAABAAAAAAAPAP7/AAABAAAAAAAQAP7/AAABAAAAAAARAP7/AAADAAAAAAARAP//AAAJAAEAAAARAAAAAAAJAAIAAAARAAEAAAAJAAEAAAARAAIAAAAJAAEAAAARAAMAAAAJAAEAAAARAAQAAAADAAQAAAAQAAQAAAACAAQAAAAPAAQAAAABAAQAAAAOAAQAAAABAAQAAAANAAQAAAABAAQAAAAMAAQAAAABAAQAAAALAAQAAAABAAQAAAAKAAQAAAABAAQAAAAJAAQAAAABAAQAAAAIAAQAAAABAAQAAAAHAAQAAAABAAQAAAAGAAQAAAAAAAQAAAAGAAMAAAAAAAMAAAAGAAIAAAAAAAMAAAAGAAEAAAAAAAMAAAAGAAAAAAAAAAMAAAAGAP//AAAAAAMAAAAGAP7/AAAAAAAAAAAHAP7/AAABAAAAAAAIAP7/AAABAAAAAAAJAP7/AAAFAAEAAAAJAP3/AAAAAAEAAAAJAPz/AAAAAAEAAAAJAPv/AAAFAAMAAAAIAPv/AAABAAQAAAAHAPv/AAAAAAQAAAAHAPr/AAAAAAMAAAAHAPn/AAAFAAMAAAAGAPn/AAABAAQAAAAFAPn/AAABAAQAAAAEAPn/AAADAAMAAAAEAPr/AAAJAAIAAAAEAPv/AAADAAQAAAADAPv/AAADAAMAAAADAPz/AAAJAAEAAAADAP3/AAAFAAEAABD///3/AAAFAAAAAAD+//3/AAAFAAAAAAD4//7/AAAFAAAAAAD7//3/AAACAAAAAAD6//3/AAAAAAAAAAD6//7/AAAFAAEAAAD5//7/AAABAAAAAAD3//7/AAAAAAAAAAD6/wQAAAABAAQAAAD6/wMAAAAFAAMAAAD5/wMAAAABAAQAAAD4/wMAAAABAAQAAAD3/wMAAAAAAAQAAAD3/wIAAAAAAAMAAAD3/wEAAAAAAAMAAAD3/wAAAAAAAAMAAAD3////AAAAAAIAAAA=")
tile_set = SubResource("TileSet_jjvhh")

[node name="Walls" type="CollisionPolygon2D" parent="RoomTemplate"]
visible = false
polygon = PackedVector2Array(-136, -16, -88, -16, -88, -32, 24, -32, 24, -72, -8, -72, -8, -160, 72, -160, 72, -128, 120, -128, 120, -224, 216, -224, 232, -224, 232, -248, -168, -248, -168, 80, -136, 80)

[node name="Walls2" type="CollisionPolygon2D" parent="RoomTemplate"]
visible = false
polygon = PackedVector2Array(-136, 56, -88, 56, -88, 72, 72, 72, 72, -32, 56, -32, 56, -72, 72, -72, 72, -104, 120, -104, 120, -72, 152, -72, 152, -16, 104, -16, 104, 72, 280, 72, 280, -16, 184, -16, 184, -72, 216, -72, 216, -224, 232, -224, 232, -48, 304, -48, 304, 88, -136, 88)

[node name="Stairs" type="Node2D" parent="RoomTemplate"]

[node name="Door" type="Node2D" parent="RoomTemplate/Stairs"]

[node name="Tunnel" type="TileMapLayer" parent="RoomTemplate/Stairs/Door"]

[node name="FirstRoomDoor" type="Node2D" parent="RoomTemplate"]

[node name="Door" type="Node2D" parent="RoomTemplate/FirstRoomDoor"]

[node name="Shut" type="StaticBody2D" parent="RoomTemplate/FirstRoomDoor/Door"]

[node name="Door" type="Sprite2D" parent="RoomTemplate/FirstRoomDoor/Door/Shut"]
position = Vector2(32, -56)
texture = ExtResource("1_jjgbg")
region_enabled = true
region_rect = Rect2(112, 0, 16, 16)

[node name="Door2" type="Sprite2D" parent="RoomTemplate/FirstRoomDoor/Door/Shut"]
position = Vector2(48, -56)
texture = ExtResource("1_jjgbg")
flip_h = true
region_enabled = true
region_rect = Rect2(112, 0, 16, 16)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomTemplate/FirstRoomDoor/Door/Shut"]
position = Vector2(40, -56)
shape = SubResource("RectangleShape2D_kry3j")

[node name="RoomTrigger" type="Area2D" parent="RoomTemplate/FirstRoomDoor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomTemplate/FirstRoomDoor/RoomTrigger"]
position = Vector2(40, -64)
shape = SubResource("RectangleShape2D_21xkr")

[node name="SecondRoomDoor" type="Node2D" parent="RoomTemplate"]

[node name="Door" type="Node2D" parent="RoomTemplate/SecondRoomDoor"]
